### **Part 1: Introduction & Lesson Objectives**

1.  After this lesson, you will be able to:
    *   Describe key OCI **networking concepts** (VCN, subnets, gateways).
    *   Describe key **Identity and Access Management (IAM)** concepts.
    *   Identify the **prerequisites** for launching a Base Database Service DB System.
    *   Use the OCI Console to **launch a DB System**.
    *   **Create and manage tags** for DB systems and databases.
    *   Identify the **pre-configured OS user accounts** on a DB system.
    *   **Connect to the DB system VM** using SSH.

### **Part 2: Core OCI Concepts: Networking (VCN)**

2.  A **Virtual Cloud Network (VCN)** is a software-defined network in OCI, similar to a traditional network, containing subnets, route tables, and gateways.
3.  **VCN Creation:** You create a VCN by specifying a **CIDR range** (e.g., 10.0.0.0/16). A VCN resides in a single region but can span multiple Availability Domains (ADs).
4.  **Subnets:** Subdivisions of a VCN. They can be **regional** (span ADs) or **AD-specific**. Each subnet has its own route tables and security rules.
5.  **Gateways:** Provide connectivity paths for your VCN:
    *   **Internet Gateway (IGW):** For public internet access.
    *   **Service Gateway (SGW):** For private access to Oracle services (e.g., Object Storage).
    *   **Dynamic Routing Gateway (DRG):** For connecting to on-premises networks via IPSec VPN or FastConnect.

### **Part 3: Core OCI Concepts: Identity and Access Management (IAM)**

6.  **IAM** controls who (users) has access to which cloud resources and what they can do with them.
7.  **Five Key IAM Concepts:**
    *   **Principals:** The entities (users, groups) that need permissions.
    *   **Users:** Individual accounts for specific people.
    *   **Groups:** A collection of users who need the same type of permissions.
    *   **Policies:** Statements that grant permissions to groups to perform actions on resources in specific compartments.
    *   **Compartments:** Logical containers used to organize and isolate resources for access control and billing. DB systems can be moved between compartments.
8.  **Policy Syntax:** Policies are intuitive: `Define who (subject) can do what (verb) on which resources (resource-type)`.
    *   Example: `Allow group DBA-Admins to manage database-family in tenancy`
    *   `database-family` is an aggregate type granting permissions on all database services (Autonomous, VM, Exadata). Policies can be more specific using individual resource types.

### **Part 4: Prerequisites for Launching a DB System**

9.  Before launching a VM DB System, you must have:
    *   **IAM Policies:** The necessary permissions for the user/group.
    *   **Service Limits:** Ensure your tenancy has available limits for the desired shape (OCPUs, memory).
    *   **SSH Key Pair:** The **public key** (in OpenSSH format) you plan to use for SSH access.
    *   **Virtual Cloud Network (VCN):** Created in the target region.
    *   **Subnet:** At least one subnet (Oracle recommends a **private subnet**).
        *   For a **two-node RAC** system, ensure **port 22 (SSH) is open for both ingress and egress** on the subnet, and security rules must be **stateful** (the default) for successful provisioning.
    *   **Gateway:** An **Internet Gateway** (for a public subnet) or a **Service Gateway** (for a private subnet) is required for the DB system to access OCI services like Object Storage for backups.

### **Part 5: Using the Console & Creating a VCN**

10. The OCI Console is the primary interface for demonstrations. Other interfaces like REST API, SDK, and CLI are also available.
11. **Creating a VCN:**
    *   Navigate to **Networking > Virtual Cloud Networks**.
    *   Click **Create VCN**.
    *   A **VCN Wizard** is available for quick setup (creates a public subnet, IGW, route table, security list). This is suitable for Dev/Test.
    *   For **production**, Oracle recommends building the VCN manually, using a **private subnet** for the database, and a **DRG** for on-premises connectivity.

### **Part 6: Launching a Base Database Service DB System**

12. A VM DB System contains **one Container Database (CDB)** and an initial **Pluggable Database (PDB)**. You can have many PDBs within the single CDB.
13. **Steps to Launch:**
    *   Navigate to **Oracle Database > Oracle Base Database Service**.
    *   Select the correct **Compartment**.
    *   Click **Create DB System**.
14. **Required Information during Creation:**
    *   **Basic Info:** DB System name, compartment, and Availability Domain.
    *   **Shape Configuration:** Select processor type (Ampere, Intel, AMD), number of OCPUs, and number of compute nodes (1 for single-instance, 2 for RAC).
    *   **Storage Configuration:** Select storage management software (**LVM** or **ASM**), storage performance level, and amount of data storage.
    *   **Licensing:** Choose **License Included** or **Bring Your Own License (BYOL)**.
    *   **SSH Keys:** Add your public SSH key.
    *   **Networking:** Select the **VCN**, **client subnet**, and specify a **hostname prefix**.
    *   **Database Info:** Provide names for the **CDB** and **PDB**, and set the **admin password**.
    *   **Software Version:** Select the Oracle Database software version (e.g., 19c, 21c).
    *   **Backups:** Choose to enable or disable automatic backups.
    *   Finally, click **Create DB System**.
15. **Post-Creation Status:** The DB System status will be **"Provisioning"** (orange icon) and change to **"Available"** (green icon) upon success. Other possible states are Updating, Stopped, Terminating, Terminated, and Failed.

### **Part 7: Managing Tags**

16. **Purpose of Tags:** Tags (key-value pairs) help organize, track, report on, and perform bulk actions on resources across compartments.
17. **Two Types of Tags:**
    *   **Defined Tags:** Pre-defined by an administrator in the tenancy. Require specific permission to apply.
    *   **Free-form Tags:** Can be applied by any user with permissions on the resource.
18. **How to Manage Tags:** On the DB System or Database details page, click the **"Add Tags"** or **"More Actions"** tab to view, edit, or add tags.

### **Part 8: DB System OS Users & SSH Connection**

19. **Pre-configured OS User Accounts:**
    *   **opc:** The primary user for initial SSH login. Used with `sudo` to gain root access. **Accessed using the SSH key.**
    *   **oracle:** The user for database administration. Accessed by switching from `opc` using `sudo su - oracle`.
    *   **root:** For system administration tasks. Accessed by switching from `opc` using `sudo su -`.
    *   **grid:** For administering Grid Infrastructure (e.g., in RAC or ASM configurations). Accessed by switching from `opc` using `sudo su - grid`. *Not applicable for single-node systems using LVM.*
20. **Connecting via SSH:**
    *   Use the **private SSH key** that matches the public key provided during DB System creation.
    *   Connect as the **`opc`** user to the DB System's IP address.
    *   Example: `ssh -i <path_to_private_key> opc@<DB_System_IP>`
    *   From there, you can switch to other users (`oracle`, `root`, `grid`) as needed.
21. **Troubleshooting Connection Issues:** Ensure **port 22 is open for ingress and egress** on the subnet's security list and that the rules are **stateful**.

### **Part 9: Lesson Summary**

22. This lesson covered how to:
    *   Describe OCI **networking** and **IAM** concepts.
    *   Identify **prerequisites** for launch.
    *   Use the console to **provision a DB System**.
    *   **Manage tags**.
    *   Identify **OS user accounts** and **connect via SSH**.
